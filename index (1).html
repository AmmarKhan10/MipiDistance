<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Miki & Pipi ‚Ä¢ Distance & Love</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #ff6b9d;
      --secondary: #7c4dff;
      --accent: #00e5ff;
      --dark: #2d3748;
      --light: #f8fafc;
      --gradient: linear-gradient(135deg, var(--primary), var(--secondary));
      --shadow: 0 10px 30px rgba(0,0,0,0.1);
      --radius: 16px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      color: var(--dark);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    header {
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
    }

    .header-content {
      display: inline-block;
      position: relative;
    }

    h1 {
      font-size: 2.8rem;
      font-weight: 600;
      background: var(--gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-bottom: 0.5rem;
      letter-spacing: -0.5px;
    }

    .subtitle {
      font-size: 1.1rem;
      color: #64748b;
      font-weight: 400;
    }

    .hearts {
      position: absolute;
      top: -10px;
      right: -30px;
      font-size: 1.5rem;
      color: var(--primary);
      animation: float 3s ease-in-out infinite;
    }

    .dashboard {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-bottom: 2rem;
    }

    @media (max-width: 768px) {
      .dashboard {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 2rem;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
    }

    .distance-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .distance-value {
      font-size: 3rem;
      font-weight: 700;
      background: var(--gradient);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin: 1rem 0;
    }

    .distance-label {
      font-size: 1rem;
      color: #64748b;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .love-card {
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .love-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient);
    }

    .love-title {
      font-size: 1.5rem;
      margin-bottom: 1.5rem;
      color: var(--dark);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .love-value {
      font-size: 3.5rem;
      font-weight: 700;
      color: var(--primary);
      text-shadow: 0 2px 10px rgba(255, 107, 157, 0.3);
    }

    .counter-info {
      font-size: 0.9rem;
      color: #94a3b8;
      margin-top: 1rem;
      font-style: italic;
    }

    .map-container {
      margin-bottom: 2rem;
    }

    #map {
      height: 400px;
      width: 100%;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    .message-card {
      background: white;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 2.5rem;
      position: relative;
      margin-bottom: 2rem;
    }

    .message-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .message-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--gradient);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
    }

    .message-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: var(--dark);
    }

    .message-content {
      font-size: 1.1rem;
      line-height: 1.7;
      color: #4a5568;
    }

    .highlight {
      background: linear-gradient(120deg, rgba(255,107,157,0.2) 0%, rgba(124,77,255,0.2) 100%);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-weight: 500;
    }

    .signature {
      text-align: right;
      margin-top: 1.5rem;
      font-style: italic;
      color: var(--primary);
      font-weight: 500;
    }

    .floating-hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .heart {
      position: absolute;
      color: rgba(255, 107, 157, 0.3);
      animation: float 6s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(10deg); }
    }

    .pulse {
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .connection-line {
      stroke-dasharray: 10;
      animation: dash 20s linear infinite;
    }

    @keyframes dash {
      to {
        stroke-dashoffset: 1000;
      }
    }
  </style>
</head>
<body>
  <div class="floating-hearts" id="floating-hearts"></div>

  <div class="container">
    <header>
      <div class="header-content">
        <h1>Miki & Pipi</h1>
        <div class="subtitle">Distance makes the heart grow fonder</div>
        <div class="hearts">üíï</div>
      </div>
    </header>

    <div class="dashboard">
      <div class="card distance-card">
        <div class="distance-label">Current Distance</div>
        <div class="distance-value" id="distance-value">0 km</div>
        <div class="distance-label">Apart but never far in heart</div>
      </div>

      <div class="card love-card">
        <div class="love-title">
          <i class="fas fa-heart"></i>
          How Much I Love You
        </div>
        <div class="love-value" id="love-value">0</div>
        <div class="counter-info">My love for you grows infinitely...</div>
      </div>
    </div>

    <div class="map-container">
      <div class="card" style="padding: 0;">
        <div id="map"></div>
      </div>
    </div>

    <div class="message-card">
      <div class="message-header">
        <div class="message-icon">
          <i class="fas fa-feather-alt"></i>
        </div>
        <div class="message-title">For You, A Thousand Times Over</div>
      </div>
      <div class="message-content">
        <p>Hi baby, I miss you so much right now, but I'm happy knowing you're doing well. You mean <span class="highlight">the world to me</span>, you are my everything and everything I could have ever asked for.</p>

        <p>I would have never imagined two years ago that I would be dating a <span class="highlight">baddie like you</span> and you would be my rock throughout everything. I cannot put into words how much you mean to me and how much I love you, how much you make me happy and smile, and how much you make me feel like I can do anything.</p>

        <p>I love you deeply from the bottom of my heart, and there's genuinely nothing that can change that and nothing ever will.</p>
      </div>
      <div class="signature">I Love You So Much Maman üíñ</div>
    </div>

    <!-- New message card -->
    <div class="message-card">
      <div class="message-header">
        <div class="message-icon">
          <i class="fas fa-star"></i>
        </div>
        <div class="message-title">My Promise to You</div>
      </div>
      <div class="message-content">
        <p>Every day with you feels like a blessing, and I promise to always cherish our moments together. No matter the distance between us, my love for you only grows stronger.</p>

        <p>I promise to be your safe place, your biggest supporter, and the one who always believes in you. Through challenges and triumphs, I'll be by your side, cheering you on.</p>

        <p>Our connection is something truly special, and I feel so grateful to have found someone who understands me so completely. You're not just my love, you're my best friend and my favorite person.</p>
      </div>
      <div class="signature">Forever Yours üí´</div>
    </div>
  </div>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Replace these with your coordinates
    const myLocation = [24.9348281, 67.0691838];      // Example: Karachi
    const herLocation = [24.8422422, 67.0596738];    // Example: Lahore

    // Create floating hearts
    function createFloatingHearts() {
      const container = document.getElementById('floating-hearts');
      const hearts = ['üíñ', 'üíï', '‚ù§Ô∏è', 'üíò', 'üíù'];

      for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.innerHTML = hearts[Math.floor(Math.random() * hearts.length)];
        heart.style.left = `${Math.random() * 100}%`;
        heart.style.top = `${Math.random() * 100}%`;
        heart.style.fontSize = `${Math.random() * 20 + 15}px`;
        heart.style.animationDelay = `${Math.random() * 5}s`;
        container.appendChild(heart);
      }
    }

    // Haversine distance function
    function getDistance(lat1, lon1, lat2, lon2) {
      const R = 6371; // km
      const dLat = (lat2 - lat1) * Math.PI / 180;
      const dLon = (lon2 - lon1) * Math.PI / 180;
      const a = Math.sin(dLat/2) ** 2 +
                Math.cos(lat1 * Math.PI / 180) *
                Math.cos(lat2 * Math.PI / 180) *
                Math.sin(dLon/2) ** 2;
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
      return R * c;
    }

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      createFloatingHearts();

      // Calculate & show distance
      const distanceKm = getDistance(myLocation[0], myLocation[1], herLocation[0], herLocation[1]).toFixed(2);
      document.getElementById('distance-value').textContent = `${distanceKm} km`;

      // Initialize map with modern style
      const map = L.map('map').setView([
        (myLocation[0] + herLocation[0]) / 2, 
        (myLocation[1] + herLocation[1]) / 2
      ], 10);

      // Use a more modern map style
      L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
        subdomains: 'abcd',
        maxZoom: 20
      }).addTo(map);

      // Custom icons
      const myIcon = L.divIcon({
        html: '<div class="pulse" style="background: linear-gradient(135deg, #7c4dff, #00e5ff); width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; box-shadow: 0 2px 10px rgba(124, 77, 255, 0.5);">üíô</div>',
        className: 'custom-div-icon',
        iconSize: [30, 30],
        iconAnchor: [15, 15]
      });

      const herIcon = L.divIcon({
        html: '<div class="pulse" style="background: linear-gradient(135deg, #ff6b9d, #ff8fab); width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; box-shadow: 0 2px 10px rgba(255, 107, 157, 0.5);">üíñ</div>',
        className: 'custom-div-icon',
        iconSize: [30, 30],
        iconAnchor: [15, 15]
      });

      // Markers with custom icons
      L.marker(myLocation, {icon: myIcon}).addTo(map).bindPopup("<b>Me</b><br>Waiting for you üíô").openPopup();
      L.marker(herLocation, {icon: herIcon}).addTo(map).bindPopup("<b>My Love</b><br>Thinking of you üíñ");

      // Stylish connection line
      const line = L.polyline([myLocation, herLocation], {
        color: '#ff6b9d',
        weight: 4,
        opacity: 0.8,
        dashArray: '10, 10',
        lineCap: 'round'
      }).addTo(map);

      map.fitBounds(line.getBounds(), {padding: [50, 50]});

      // Infinite Love Counter
      let loveValue = 0;
      const loveElement = document.getElementById('love-value');

      function updateCounter() {
        // Random increment between 1-5 for a more natural feel
        const increment = Math.floor(Math.random() * 5) + 1;
        loveValue += increment;

        // Format the number with commas for better readability
        loveElement.textContent = loveValue.toLocaleString();

        // Occasionally add a heart emoji for visual interest
        if (Math.random() < 0.01) {
          loveElement.innerHTML = loveValue.toLocaleString() + ' <i class="fas fa-heart" style="font-size: 0.7em;"></i>';
          setTimeout(() => {
            loveElement.innerHTML = loveValue.toLocaleString();
          }, 1000);
        }
      }

      // Start counter after a brief delay and run infinitely
      setTimeout(() => {
        setInterval(updateCounter, 100); // Update every 100ms
      }, 1000);
    });
  </script>
</body>
</html>